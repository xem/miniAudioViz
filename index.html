<canvas id=c><script>
x=c.getContext`2d`;
a=new Audio("song.mp3");
a.autoplay=a.loop=!0;
with(new AudioContext)
with(createMediaElementSource(a))
connect(destination),
A=createAnalyser(),
connect(A);
setInterval(z=>{
for(A.getByteFrequencyData(D=new Uint8Array(i=c.width=512));i--;)x.lineTo(i,150-D[i]);x.stroke()
},9)
</script>